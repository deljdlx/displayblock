<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Krakottes, the Krakens' Krispy musics</title>


    <link rel="stylesheet" href="..//source/css/style.css" />
    <link rel="stylesheet" href="..//source/css/Scene.css" />

    <link rel="stylesheet" href="..//source/css/Item.css" />
    <link rel="stylesheet" href="..//source/css/Cube.css" />
    <link rel="stylesheet" href="..//source/css/Cuboid.css" />

    <link rel="stylesheet" href="..//source/css/Board.css" />
    <link rel="stylesheet" href="..//source/css/Matrix.css" />

    <style>
        .layout__perspective {
            background-color: #cccc;
            border: solid 1px #f00;
        }
    </style>

</head>
<body>



    <div id="main" style="width: 600px;height:400px;"></div>

    <div style="position: absolute; top: 0; left:0; z-index:100">
        <button id="triggerRotations">Trigger rotation loops</button>
        <button id="triggerRotate30">Totate by 30</button>
        <button id="flatten">Flatten</button>
        <button id="triggerRotateItem">Rotate Items</button>
    </div>

    <script src="..//source/js/Util/Transformation.js"></script>
    <script src="..//source/js/Util/PositionManager.js"></script>
    <script src="..//source/js/Util/Animation.js"></script>


    <script src="..//source/js/Traits/Renderable.js"></script>
    <script src="..//source/js/Traits/Animable.js"></script>



    <script src="..//source/js/Viewport.js"></script>
    <script src="..//source/js/ViewportInteraction.js"></script>


    <script src="..//source/js/Scene.js"></script>
    <script src="..//source/js/Board/Free.js"></script>


    <script src="..//source/js/Item.js"></script>

    <script src="..//source/js/Surface.js"></script>
    <script src="..//source/js/Cuboid.js"></script>
    <script src="..//source/js/Cube.js"></script>


    <script src="..//source/js/Board/Square.js"></script>



    <script>






        const container = document.getElementById('main');
        let viewport = new Viewport(container);
        viewport.addAxes();

        viewport.draw();



        let cubes = [];

        for(let i = 0 ; i < 30 ; i++) {
            let cube = new Cube(20, 20);
            cubes.push(cube);
            viewport.addItem(
                cube,
                (500 + Math.random() * 1000) * (Math.random() - 0.5),
                (500 + Math.random() * 1000) * (Math.random() - 0.5),
                (500 + Math.random() * 1000) * (Math.random() - 0.5)
            );
        }


        document.getElementById('triggerRotateItem').addEventListener('click', (event) => {
            for(let cube of cubes) {
                cube.enableRotations(
                    true,
                    true,
                    true,
                    2000 + (2000 * Math.random())
                );
            }

        });

        document.getElementById('triggerRotations').addEventListener('click', (event) => {
            if(viewport.rotationEnabled()) {
                viewport.disableRotations();
            }
            else {
                viewport.enableRotations(
                    false,
                    true,
                    false,
                    5000
                );
            }
        });

        document.getElementById('triggerRotate30').addEventListener('click', (event) => {
            viewport.animateRotationBy(0, 0, 20, 1000);
            viewport.animateRotationBy(30, 0, 0, 1000);
        });


        document.getElementById('flatten').addEventListener('click', (event) => {
            viewport.flatten(1000);
        });

        console.log(viewport);
    </script>



</body>
<html>



